extends _layout.pug

block content
    include -nav.pug
    
    div.rulesGame
        h2 régle du jeu
    div.chat
        #future
        form#form
            input#chat_input(type='text')
            input(type='submit', value='Send')

    div.btnStartGame
        button(type="button") Matchmaking
    div.listUserConnected
        h2 Joueurs Connectés
        div
    
    script(src='/node/jquery/dist/jquery.js')
    
    script(src='/node/socket.io-client/dist/socket.io.js')

    script.
        $(function() {
            var socket = io.connect('http://localhost:8090');
            socket.on('connect', function(data) {
                socket.emit('join', 'Hello World from client');
            });
            socket.on('broad', function(data) {
                $('#future').append(data+ "<br/>");
            });
            $('form').submit(function(e){
                e.preventDefault();
                console.log(e); 
                var message = $('#chat_input').val();
                socket.emit('messages', message);
            });
        }); 


